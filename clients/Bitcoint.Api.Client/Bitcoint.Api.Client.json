{"swagger":"2.0","info":{"version":"v1","title":"Bitcoin_Api"},"basePath":"/","paths":{"/api/EnqueueTransaction/transfer":{"post":{"tags":["EnqueueTransaction"],"summary":"Add transfer transaction to queue for building","operationId":"ApiEnqueueTransactionTransferPost","consumes":["application/json","text/json","application/json-patch+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"model","in":"body","required":false,"schema":{"$ref":"#/definitions/TransferRequest"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/TransactionIdResponse"}},"400":{"description":"Client Error","schema":{"$ref":"#/definitions/ApiException"}}},"deprecated":false}},"/api/EnqueueTransaction/transferall":{"post":{"tags":["EnqueueTransaction"],"summary":"Add transfer all transaction to queue for building","operationId":"ApiEnqueueTransactionTransferallPost","consumes":["application/json","text/json","application/json-patch+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"model","in":"body","required":false,"schema":{"$ref":"#/definitions/TransferAllRequest"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/TransactionIdResponse"}},"400":{"description":"Client Error","schema":{"$ref":"#/definitions/ApiException"}}},"deprecated":false}},"/api/EnqueueTransaction/swap":{"post":{"tags":["EnqueueTransaction"],"summary":"Add swap transaction to queue for building","operationId":"ApiEnqueueTransactionSwapPost","consumes":["application/json","text/json","application/json-patch+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"model","in":"body","required":false,"schema":{"$ref":"#/definitions/SwapRequest"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/TransactionIdResponse"}},"400":{"description":"Client Error","schema":{"$ref":"#/definitions/ApiException"}}},"deprecated":false}},"/api/EnqueueTransaction/issue":{"post":{"tags":["EnqueueTransaction"],"summary":"Add issue transaction to queue for building","operationId":"ApiEnqueueTransactionIssuePost","consumes":["application/json","text/json","application/json-patch+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"model","in":"body","required":false,"schema":{"$ref":"#/definitions/IssueRequest"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/TransactionIdResponse"}},"400":{"description":"Client Error","schema":{"$ref":"#/definitions/ApiException"}}},"deprecated":false}},"/api/EnqueueTransaction/destroy":{"post":{"tags":["EnqueueTransaction"],"summary":"Add destroy transaction to queue for building","operationId":"ApiEnqueueTransactionDestroyPost","consumes":["application/json","text/json","application/json-patch+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"model","in":"body","required":false,"schema":{"$ref":"#/definitions/DestroyRequest"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/TransactionIdResponse"}},"400":{"description":"Client Error","schema":{"$ref":"#/definitions/ApiException"}}},"deprecated":false}},"/api/EnqueueTransaction/multipletransfer":{"post":{"tags":["EnqueueTransaction"],"summary":"Add multiple transfer to queue","operationId":"ApiEnqueueTransactionMultipletransferPost","consumes":["application/json","text/json","application/json-patch+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"model","in":"body","required":false,"schema":{"$ref":"#/definitions/MultipleTransferRequest"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/TransactionIdResponse"}},"400":{"description":"Client Error","schema":{"$ref":"#/definitions/ApiException"}}},"deprecated":false}},"/api/EnqueueTransaction/retry":{"post":{"tags":["EnqueueTransaction"],"operationId":"ApiEnqueueTransactionRetryPost","consumes":["application/json","text/json","application/json-patch+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"model","in":"body","required":false,"schema":{"$ref":"#/definitions/RetryFailedRequest"}}],"responses":{"200":{"description":"Success"},"400":{"description":"Client Error","schema":{"$ref":"#/definitions/ApiException"}}},"deprecated":false}},"/api/IsAlive":{"get":{"tags":["IsAlive"],"operationId":"ApiIsAliveGet","consumes":[],"produces":[],"responses":{"200":{"description":"Success"}},"deprecated":false}},"/api/IsAlive/rpc":{"get":{"tags":["IsAlive"],"operationId":"ApiIsAliveRpcGet","consumes":[],"produces":[],"responses":{"200":{"description":"Success"}},"deprecated":false}},"/api/IsAlive/ninja":{"get":{"tags":["IsAlive"],"operationId":"ApiIsAliveNinjaGet","consumes":[],"produces":[],"responses":{"200":{"description":"Success"}},"deprecated":false}},"/api/Offchain/transfer":{"post":{"tags":["Offchain"],"operationId":"ApiOffchainTransferPost","consumes":["application/json","text/json","application/json-patch+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"model","in":"body","required":false,"schema":{"$ref":"#/definitions/TransferModel"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/OffchainApiResponse"}},"400":{"description":"Client Error","schema":{"$ref":"#/definitions/ApiException"}}},"deprecated":false}},"/api/Offchain/createchannel":{"post":{"tags":["Offchain"],"operationId":"ApiOffchainCreatechannelPost","consumes":["application/json","text/json","application/json-patch+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"model","in":"body","required":false,"schema":{"$ref":"#/definitions/CreateChannelModel"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/OffchainApiResponse"}},"400":{"description":"Client Error","schema":{"$ref":"#/definitions/ApiException"}}},"deprecated":false}},"/api/Offchain/createcashin":{"post":{"tags":["Offchain"],"operationId":"ApiOffchainCreatecashinPost","consumes":["application/json","text/json","application/json-patch+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"model","in":"body","required":false,"schema":{"$ref":"#/definitions/CreateCashinModel"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/OffchainApiResponse"}},"400":{"description":"Client Error","schema":{"$ref":"#/definitions/ApiException"}}},"deprecated":false}},"/api/Offchain/createhubcommitment":{"post":{"tags":["Offchain"],"operationId":"ApiOffchainCreatehubcommitmentPost","consumes":["application/json","text/json","application/json-patch+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"model","in":"body","required":false,"schema":{"$ref":"#/definitions/CreateHubCommitmentModel"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/OffchainApiResponse"}},"400":{"description":"Client Error","schema":{"$ref":"#/definitions/ApiException"}}},"deprecated":false}},"/api/Offchain/finalize":{"post":{"tags":["Offchain"],"operationId":"ApiOffchainFinalizePost","consumes":["application/json","text/json","application/json-patch+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"model","in":"body","required":false,"schema":{"$ref":"#/definitions/FinalizeChannelModel"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/FinalizeOffchainApiResponse"}},"400":{"description":"Client Error","schema":{"$ref":"#/definitions/ApiException"}}},"deprecated":false}},"/api/Offchain/broadcastcommitment":{"post":{"tags":["Offchain"],"operationId":"ApiOffchainBroadcastcommitmentPost","consumes":["application/json","text/json","application/json-patch+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"model","in":"body","required":false,"schema":{"$ref":"#/definitions/BroadcastCommitmentModel"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/TransactionHashResponse"}},"400":{"description":"Client Error","schema":{"$ref":"#/definitions/ApiException"}}},"deprecated":false}},"/api/Offchain/cashout":{"post":{"tags":["Offchain"],"operationId":"ApiOffchainCashoutPost","consumes":["application/json","text/json","application/json-patch+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"model","in":"body","required":false,"schema":{"$ref":"#/definitions/CashoutModel"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/CashoutOffchainApiResponse"}},"400":{"description":"Client Error","schema":{"$ref":"#/definitions/ApiException"}}},"deprecated":false}},"/api/Offchain/cashouthub":{"post":{"tags":["Offchain"],"operationId":"ApiOffchainCashouthubPost","consumes":["application/json","text/json","application/json-patch+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"model","in":"body","required":false,"schema":{"$ref":"#/definitions/CreateCashoutFromHubModel"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/CashoutOffchainApiResponse"}},"400":{"description":"Client Error","schema":{"$ref":"#/definitions/ApiException"}}},"deprecated":false}},"/api/Offchain/broadcastclosing":{"post":{"tags":["Offchain"],"operationId":"ApiOffchainBroadcastclosingPost","consumes":["application/json","text/json","application/json-patch+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"model","in":"body","required":false,"schema":{"$ref":"#/definitions/BroadcastClosingChannelModel"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/TransactionHashResponse"}},"400":{"description":"Client Error","schema":{"$ref":"#/definitions/ApiException"}}},"deprecated":false}},"/api/Offchain/clientbalance":{"get":{"tags":["Offchain"],"operationId":"ApiOffchainClientbalanceGet","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"multisig","in":"query","required":false,"type":"string"},{"name":"asset","in":"query","required":false,"type":"string"}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/OffchainClientBalanceResponse"}},"400":{"description":"Client Error","schema":{"$ref":"#/definitions/ApiException"}}},"deprecated":false}},"/api/Offchain/balances":{"get":{"tags":["Offchain"],"operationId":"ApiOffchainBalancesGet","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"multisig","in":"query","required":false,"type":"string"}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/OffchainBalanceResponse"}},"400":{"description":"Client Error","schema":{"$ref":"#/definitions/ApiException"}}},"deprecated":false}},"/api/Offchain/channels":{"get":{"tags":["Offchain"],"operationId":"ApiOffchainChannelsGet","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"multisig","in":"query","required":false,"type":"string"},{"name":"asset","in":"query","required":false,"type":"string"}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/OffchainChannelsResponse"}},"400":{"description":"Client Error","schema":{"$ref":"#/definitions/ApiException"}}},"deprecated":false}},"/api/Offchain/channel/commitments":{"get":{"tags":["Offchain"],"operationId":"ApiOffchainChannelCommitmentsGet","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"channelId","in":"query","required":false,"type":"string","format":"uuid"}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/OffchainCommitmentsOfChannelResponse"}},"400":{"description":"Client Error","schema":{"$ref":"#/definitions/ApiException"}}},"deprecated":false}},"/api/Offchain/commitment":{"get":{"tags":["Offchain"],"operationId":"ApiOffchainCommitmentGet","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"commitmentId","in":"query","required":false,"type":"string","format":"uuid"}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/OffchainCommitmentResponse"}},"400":{"description":"Client Error","schema":{"$ref":"#/definitions/ApiException"}}},"deprecated":false}},"/api/Offchain/removechannel":{"post":{"tags":["Offchain"],"operationId":"ApiOffchainRemovechannelPost","consumes":["application/json","text/json","application/json-patch+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"model","in":"body","required":false,"schema":{"$ref":"#/definitions/RemoveChannelModel"}}],"responses":{"200":{"description":"Success"},"400":{"description":"Client Error","schema":{"$ref":"#/definitions/ApiException"}}},"deprecated":false}},"/api/Offchain/asset/balances":{"get":{"tags":["Offchain"],"operationId":"ApiOffchainAssetBalancesGet","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"asset","in":"query","required":false,"type":"string"}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/AssetBalanceInfoResponse"}},"400":{"description":"Client Error","schema":{"$ref":"#/definitions/ApiException"}}},"deprecated":false}},"/api/Transaction/transfer":{"post":{"tags":["Transaction"],"summary":"Creates cash out transaction without signs","operationId":"ApiTransactionTransferPost","consumes":["application/json","text/json","application/json-patch+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"model","in":"body","required":false,"schema":{"$ref":"#/definitions/TransferRequest"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/TransactionResponse"}},"400":{"description":"Client Error","schema":{"$ref":"#/definitions/ApiException"}}},"deprecated":false}},"/api/Transaction/broadcast":{"post":{"tags":["Transaction"],"summary":"Broadcast fully signed bitcoin transaction to network","operationId":"ApiTransactionBroadcastPost","consumes":["application/json","text/json","application/json-patch+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"model","in":"body","required":false,"schema":{"$ref":"#/definitions/BroadcastTransactionRequest"}}],"responses":{"200":{"description":"Success"},"400":{"description":"Client Error","schema":{"$ref":"#/definitions/ApiException"}}},"deprecated":false}},"/api/Wallet/{clientPubKey}":{"get":{"tags":["Wallet"],"summary":"Returns 2-of-2 multisig with exchange key and provided public key","description":"curl -X GET http://localhost:8989/api/wallet/&lt;client_public_key&gt;","operationId":"ApiWalletByClientPubKeyGet","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"clientPubKey","in":"path","description":"Client public key","required":true,"type":"string"}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/GetWalletResult"}}},"deprecated":false}}},"definitions":{"TransferRequest":{"type":"object","properties":{"transactionId":{"format":"uuid","type":"string"},"sourceAddress":{"type":"string"},"destinationAddress":{"type":"string"},"amount":{"format":"decimal","type":"number"},"asset":{"type":"string"}}},"TransactionIdResponse":{"type":"object","properties":{"transactionId":{"format":"uuid","type":"string"}}},"ApiException":{"type":"object","properties":{"error":{"$ref":"#/definitions/ApiError"}}},"ApiError":{"type":"object","properties":{"code":{"enum":["Exception","ProblemInRetrivingWalletOutput","ProblemInRetrivingTransaction","NotEnoughBitcoinAvailable","NotEnoughAssetAvailable","PossibleDoubleSpend","AssetNotFound","TransactionNotSignedProperly","BadInputParameter","PersistantConcurrencyProblem","NoCoinsToRefund","NoCoinsFound","InvalidAddress","OperationNotSupported","PregeneratedPoolIsEmpty","TransactionConcurrentInputsProblem","AddressHasUncompletedSignRequest","ShouldOpenNewChannel","BadTransaction","BadFullSignTransaction","CommitmentNotFound","DuplicateTransactionId","AnotherChannelSetupExists","BadChannelAmount","ChannelNotFinalized","CommitmentExpired","KeyUsedAlready","NotEnoughtClientFunds","PrivateKeyIsBad","ClosingChannelNotFound","ClosingChannelExpired","DuplicateRequest","TransferNotFound","WrongTransferId","AddressUsedInOffchain","ChannelWasBroadcasted","AssetSettingNotFound"],"type":"string"},"message":{"type":"string"}}},"TransferAllRequest":{"type":"object","properties":{"transactionId":{"format":"uuid","type":"string"},"sourceAddress":{"type":"string"},"destinationAddress":{"type":"string"}}},"SwapRequest":{"type":"object","properties":{"transactionId":{"format":"uuid","type":"string"},"multisigCustomer1":{"type":"string"},"amount1":{"format":"decimal","type":"number"},"asset1":{"type":"string"},"multisigCustomer2":{"type":"string"},"amount2":{"format":"decimal","type":"number"},"asset2":{"type":"string"}}},"IssueRequest":{"type":"object","properties":{"transactionId":{"format":"uuid","type":"string"},"address":{"type":"string"},"asset":{"type":"string"},"amount":{"format":"decimal","type":"number"}}},"DestroyRequest":{"type":"object","properties":{"transactionId":{"format":"uuid","type":"string"},"address":{"type":"string"},"asset":{"type":"string"},"amount":{"format":"decimal","type":"number"}}},"MultipleTransferRequest":{"type":"object","properties":{"transactionId":{"format":"uuid","type":"string"},"asset":{"type":"string"},"destination":{"type":"string"},"sources":{"type":"array","items":{"$ref":"#/definitions/ToOneAddress"}}}},"ToOneAddress":{"type":"object","properties":{"address":{"type":"string"},"amount":{"format":"decimal","type":"number"}}},"RetryFailedRequest":{"type":"object","properties":{"transactionId":{"format":"uuid","type":"string"}}},"TransferModel":{"type":"object","properties":{"clientPubKey":{"type":"string"},"amount":{"format":"decimal","type":"number"},"asset":{"type":"string"},"clientPrevPrivateKey":{"type":"string"},"requiredOperation":{"type":"boolean"},"transferId":{"format":"uuid","type":"string"}}},"OffchainApiResponse":{"type":"object","properties":{"transaction":{"type":"string"},"transferId":{"format":"uuid","type":"string"}}},"CreateChannelModel":{"type":"object","properties":{"clientPubKey":{"type":"string"},"hotWalletAddress":{"type":"string"},"hubAmount":{"format":"decimal","type":"number"},"asset":{"type":"string"},"requiredOperation":{"type":"boolean"},"transferId":{"format":"uuid","type":"string"}}},"CreateCashinModel":{"type":"object","properties":{"clientPubKey":{"type":"string"},"cashinAddress":{"type":"string"},"amount":{"format":"decimal","type":"number"},"asset":{"type":"string"},"transferId":{"format":"uuid","type":"string"}}},"CreateHubCommitmentModel":{"type":"object","properties":{"clientPubKey":{"type":"string"},"amount":{"format":"decimal","type":"number"},"asset":{"type":"string"},"signedByClientChannel":{"type":"string"}}},"FinalizeChannelModel":{"type":"object","properties":{"clientPubKey":{"type":"string"},"hotWalletAddress":{"type":"string"},"asset":{"type":"string"},"clientRevokePubKey":{"type":"string"},"signedByClientHubCommitment":{"type":"string"},"transferId":{"format":"uuid","type":"string"},"notifyTxId":{"format":"uuid","type":"string"}}},"FinalizeOffchainApiResponse":{"type":"object","properties":{"hash":{"type":"string"},"transaction":{"type":"string"},"transferId":{"format":"uuid","type":"string"}}},"BroadcastCommitmentModel":{"type":"object","properties":{"clientPubKey":{"type":"string"},"asset":{"type":"string"},"transaction":{"type":"string"}}},"TransactionHashResponse":{"type":"object","properties":{"transactionHash":{"type":"string"}}},"CashoutModel":{"type":"object","properties":{"clientPubKey":{"type":"string"},"cashoutAddress":{"type":"string"},"hotWalletAddress":{"type":"string"},"asset":{"type":"string"},"amount":{"format":"decimal","type":"number"}}},"CashoutOffchainApiResponse":{"type":"object","properties":{"channelClosed":{"type":"boolean"},"transaction":{"type":"string"},"transferId":{"format":"uuid","type":"string"}}},"CreateCashoutFromHubModel":{"type":"object","properties":{"clientPubKey":{"type":"string"},"hotWalletAddress":{"type":"string"},"asset":{"type":"string"}}},"BroadcastClosingChannelModel":{"type":"object","properties":{"clientPubKey":{"type":"string"},"asset":{"type":"string"},"signedByClientTransaction":{"type":"string"},"notifyTxId":{"format":"uuid","type":"string"}}},"OffchainClientBalanceResponse":{"type":"object","properties":{"amount":{"format":"decimal","type":"number"}}},"OffchainBalanceResponse":{"type":"object","properties":{"channels":{"type":"object","additionalProperties":{"$ref":"#/definitions/OffchainBalanceInfo"}}}},"OffchainBalanceInfo":{"type":"object","properties":{"clientAmount":{"format":"decimal","type":"number"},"hubAmount":{"format":"decimal","type":"number"},"transactionHash":{"type":"string"},"actual":{"type":"boolean"}}},"OffchainChannelsResponse":{"type":"object","properties":{"channels":{"type":"array","items":{"$ref":"#/definitions/OffchainChannelInfo"}}}},"OffchainChannelInfo":{"type":"object","properties":{"channelId":{"format":"uuid","type":"string"},"date":{"format":"date-time","type":"string"},"clientAmount":{"format":"decimal","type":"number"},"hubAmount":{"format":"decimal","type":"number"},"transactionHash":{"type":"string"},"actual":{"type":"boolean"}}},"OffchainCommitmentsOfChannelResponse":{"type":"object","properties":{"commitments":{"type":"array","items":{"$ref":"#/definitions/OffchainCommitmentInfo"}}}},"OffchainCommitmentInfo":{"type":"object","properties":{"date":{"format":"date-time","type":"string"},"clientAmount":{"format":"decimal","type":"number"},"hubAmount":{"format":"decimal","type":"number"},"clientCommitment":{"format":"uuid","type":"string"},"hubCommitment":{"format":"uuid","type":"string"}}},"OffchainCommitmentResponse":{"type":"object","properties":{"transactionHex":{"type":"string"}}},"RemoveChannelModel":{"type":"object","properties":{"multisig":{"type":"string"},"asset":{"type":"string"}}},"AssetBalanceInfoResponse":{"type":"object","properties":{"balances":{"type":"array","items":{"$ref":"#/definitions/MultisigBalanceInfo"}}}},"MultisigBalanceInfo":{"type":"object","properties":{"multisig":{"type":"string"},"clientAmount":{"format":"decimal","type":"number"},"hubAmount":{"format":"decimal","type":"number"}}},"TransactionResponse":{"type":"object","properties":{"transaction":{"type":"string"},"transactionId":{"format":"uuid","type":"string"}}},"BroadcastTransactionRequest":{"type":"object","properties":{"transactionId":{"format":"uuid","type":"string"},"transaction":{"type":"string"}}},"GetWalletResult":{"type":"object","properties":{"multiSigAddress":{"type":"string"},"coloredMultiSigAddress":{"type":"string"}}}},"securityDefinitions":{}}